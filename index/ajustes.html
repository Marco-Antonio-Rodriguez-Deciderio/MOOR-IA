<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet">    
    <title>MoorIA</title>
    <link rel="icon" href="src/img/ico.png" type="image/x-icon">    
    <link rel="stylesheet" href="css/ajustes.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

<div class="container">
    <aside>
        <div class="toggle">
            <div class="logo">
                <img src="src/img/logo.png" alt="MOOR IA">
                <h2>MOOR<span class="danger"> IA</span></h2>
            </div>
            <div class="close" id="close-btn">
                <span class="material-icons-sharp">close</span>
            </div>
        </div>
        <div class="sidebar">
            <a href="reporte.html" onclick="navigateTo('reporte.html')">
                <span class="material-icons-sharp">insights</span>
                <h3>Reporte generativo</h3>
            </a>
            <a href="estudiantes.html"  onclick="navigateTo('estudiantes.html')">
                <span class="material-icons-sharp">person_outline</span>
                <h3>Estudiantes</h3>
            </a>
            <a href="tareas.html" onclick="navigateTo('tareas.html')">
                <span class="material-icons-sharp">receipt_long</span>
                <h3>Tareas</h3>
            </a>
            <a href="panel.html" onclick="navigateTo('panel.html')">
                <span class="material-icons-sharp">dashboard</span>
                <h3>Panel de control</h3>
            </a>
            <a href="mensajes.html" onclick="navigateTo('mensajes.html')">
                <span class="material-icons-sharp">mail_outline</span>
                <h3>Mensajes</h3>
                <span class="message-count">27</span>
            </a>
            <a href="estadisticas.html" onclick="navigateTo('estadisticas.html')">
                <span class="material-icons-sharp">inventory</span>
                <h3>Estadisticas de enseñanza</h3>
            </a>
            <a href="alerta.html"  onclick="navigateTo('alerta.html')">
                <span class="material-icons-sharp">report_gmailerrorred</span>
                <h3>Alerta inteligente</h3>
            </a>
            <a href="ajustes.html" class="active" onclick="navigateTo('ajustes.html')">
                <span class="material-icons-sharp">settings</span>
                <h3>Ajustes</h3>
            </a>
            <a href="nueva-clase.html" onclick="navigateTo('nueva-clase.html')">
                <span class="material-icons-sharp">add</span>
                <h3>Nueva clase</h3>
            </a>
            <a href="index.html" onclick="navigateTo('index.html')">
                <span class="material-icons-sharp">logout</span>
                <h3>Salir</h3>
            </a>
        </div>
    </aside>


    <!-- End of Sidebar Section -->

    <!-- Main Content -->
    <main>

        <div class="container">
            <div class="alert alert-success" id="successAlert">
                Cambios guardados exitosamente
            </div>
    
            <div class="profile-header">
                <div class="profile-picture-container">
                    <img src="/src/img/user.png" alt="Foto de perfil" class="profile-picture" id="profilePicture">
                    <button class="change-photo-btn" onclick="document.getElementById('photoInput').click()">
                        <img src="src/img/plus.png" alt="">
                    </button>
                    <input type="file" id="photoInput" hidden accept="image/*">
                </div>
                <h1>Configuración de Perfil</h1>
                <br>
                <br>
                <button type="submit" class="btn">Guardar Cambios</button>
            </div>
    
            <form id="profileForm" onsubmit="handleSubmit(event)">
                <div class="card">
                    <h2 class="card-title">
                        👤 Información Personal
                    </h2>
                    <div class="form-group">
                        <label for="name">Nombre Completo</label>
                        <input type="text" id="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Correo Electrónico</label>
                        <input type="email" id="email" required>
                    </div>
                </div>
    
                <div class="card">
                    <h2 class="card-title">
                        🏫 Información Institucional
                    </h2>
                    <div class="form-group">
                        <label for="institution">Institución Actual</label>
                        <input type="text" id="institution">
                    </div>
                    <div class="form-group">
                        <label for="department">Departamento</label>
                        <input type="text" id="department">
                    </div>
                    <div class="form-group">
                        <label for="subjects">Materias que Imparte</label>
                        <input type="text" id="subjects" placeholder="Ej: Matemáticas, Física">
                    </div>
                </div>
    
                <div class="card">
                    <h2 class="card-title">
                        🔒 Seguridad
                    </h2>
                    <div class="form-group">
                        <label for="currentPassword">Contraseña Actual</label>
                        <input type="password" id="currentPassword">
                    </div>
                    <div class="form-group">
                        <label for="newPassword">Nueva Contraseña</label>
                        <input type="password" id="newPassword">
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Confirmar Nueva Contraseña</label>
                        <input type="password" id="confirmPassword">
                    </div>
                </div>
    
                
            </form>

            
        </div>

    </main>
    <script>
        // Manejar la subida de foto de perfil
        document.getElementById('photoInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('profilePicture').src = e.target.result;
                }
                reader.readAsDataURL(file);
            }
        });

        // Manejar el envío del formulario
        function handleSubmit(e) {
            e.preventDefault();
            
            // Validar contraseñas
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (newPassword && newPassword !== confirmPassword) {
                alert('Las contraseñas no coinciden');
                return;
            }

            // Mostrar alerta de éxito
            const alert = document.getElementById('successAlert');
            alert.style.display = 'block';
            
            // Ocultar alerta después de 3 segundos
            setTimeout(() => {
                alert.style.display = 'none';
            }, 3000);

            // Aquí iría la lógica para enviar los datos al servidor
            console.log('Formulario enviado');
        }
    </script>
    <script src="js/index-tareas.js"></script>
</body>
</html>